angular.module("iePayback",["ui.router","firebase"]);angular.module("iePayback").run(function(e,t){(function(e){var t={kitId:"xua8izo",scriptTimeout:3e3},n=e.documentElement,r=setTimeout(function(){n.className=n.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},t.scriptTimeout),i=e.createElement("script"),s=false,o=e.getElementsByTagName("script")[0],u;n.className+=" wf-loading";i.src="//use.typekit.net/"+t.kitId+".js";i.async=true;i.onload=i.onreadystatechange=function(){u=this.readyState;if(s||u&&u!="complete"&&u!="loaded")return;s=true;clearTimeout(r);try{Typekit.load(t)}catch(e){}};o.parentNode.insertBefore(i,o)})(document);e.posts=t});angular.module("iePayback").factory("fbService",["$firebase",function(e){var t=new Firebase("https://sweltering-fire-2791.firebaseio.com/posts");return e(t)}]);angular.module("iePayback").filter("noFractionCurrency",["$filter","$locale",function(e,t){var n=e("currency");var r=t.NUMBER_FORMATS;return function(e,t){var i=n(e,t);var s=i.indexOf(r.DECIMAL_SEP);if(e>=0){return i.substring(0,s)}return i.substring(0,s)+")"}}]);angular.module("iePayback").filter("createRange",function(){return function(e,t){t=parseInt(t);for(var n=0;n<t;n++)e.push(n+1);return e}});angular.module("iePayback").filter("fixedNumberLength",function(){return function(e,t){var n=parseInt(e,10);t=parseInt(t,10);if(isNaN(n)||isNaN(t)){return e}n=""+n;while(n.length<t){n="0"+n}return n}});angular.module("iePayback").filter("reverse",function(){function e(e){var t,n=[];if(e){if(angular.isArray(e)){n=e}else if(typeof e==="object"){for(t in e){if(e.hasOwnProperty(t)){n.push(e[t])}}}}return n}return function(t){return e(t).slice().reverse()}});angular.module("iePayback").config(function(e,t){t.rule(function(e,t){var n=t.path(),r=t.search(),i;if(n[n.length-1]==="/"){return}if(Object.keys(r).length===0){return n+"/"}i=[];angular.forEach(r,function(e,t){i.push(t+"="+e)});return n+"/?"+i.join("&")});t.otherwise("/");e.state("form",{url:"/",templateUrl:"partials/form.html",controller:"PostCtrl"}).state("results",{url:"/results/",templateUrl:"partials/results.html",controller:"ResultsCtrl"})});(function(){"use strict";angular.module("iePayback").controller("PostCtrl",function(e,t,n,r,i){function s(e,t){var n=[];for(var r=e;r<=t;r++){n.push(r)}return n}t.alphabet=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var o=(new Date).getFullYear()-1995;t.yearsSinceRelease=s(1,o);var u=function(e,t){var n=2.4;var r=2;var i=1.8;var s=1.4;var o=1.2;var u=1.1;var a=1.1;var f=1.4;var l=0;angular.forEach(e,function(e,c){switch(c){case"IE5":if(e===true){var h=t-t/n;l=l+h};case"IE6":if(e===true){var h=t-t/r;l=l+h};case"IE7":if(e===true){var h=t-t/i;l=l+h};case"IE8":if(e===true){var h=t-t/s;l=l+h};case"IE9":if(e===true){var h=t-t/o;l=l+h};case"IE10":if(e===true){var h=t-t/u;l=l+h};case"IE11":if(e===true){var h=t-t/a;l=l+h};case"IECompat":if(e===true){var h=t-t/f;l=l+h};default:break}});return Math.round(l)};t.updateCost=function(){var e=1650;var n=t.newPostForm.years*e;var r=u(t.newPostForm.ieVersions,n);var i=r*t.newPostForm.rate;t.newPostForm.totalCost=i};t.$watch("newPostForm.years",function(e,n){i(function(){t.$apply(function(){t.updateCost()})})});t.newPostForm={};t.newPostForm.totalCost=0;t.newPostForm.rate="";t.newPostForm.years=0;t.newPost={};t.submit=function(n){console.log(n);e.posts.$add(n);t.newPost="";r.go("results")};t.newPostForm.setSelectedInitial=function(e,n){i(function(){t.$apply(function(){t.newPostForm.lastInitial=t.alphabet[n-1]})})};t.newPostForm.setSelectedYear=function(e,n){i(function(){t.$apply(function(){if(isNaN(e)){t.newPostForm.years=e}else{t.newPostForm.years=parseInt(e)}})})}});angular.module("iePayback").controller("ResultsCtrl",function(e,t){var n=new Date;var r=n.getDate();var i=r<10?"0"+r:r;var s=n.getMonth()+1;var o=s<10?"0"+s:s;var u=n.getYear();var a=u<1e3?u+1900:u;e.currentDate=o+" / "+i+" / "+a})})();angular.module("iePayback").directive("selecter",function(e){var t=function(t,n,r){e(function(e){var e=r.label;var t=r.customClass;n.selecter({label:e,customClass:t})},50)};return{restrict:"A",scope:{label:"="},link:t}});angular.module("iePayback").directive("selecterForOptionWithNgRepeat",function(e,t){return function(n,r,i){if(n.$last){e(function(){var e=i.selecterLabel;var r=i.selecterClass;var s={label:e,customClass:r};jQuery.extend(s,t(i.selecterConfig)());jQuery.extend(s,{callback:function(e,r){n.$apply(function(){var s=t(i.selecterCallback)(n);s(e,r)})}});angular.element(i.selecterTarget).selecter(s)})}}});angular.module("iePayback").directive("verifyNumeric",function(){var e=function(e,t,n){t.on("keydown keypress",function(e){var t=e.which?e.which:event.keyCode;if(t>31&&(t<48||t>57)){return false}else{return true}})};return{restrict:"A",link:e}})
